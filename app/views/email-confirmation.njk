{% extends '_layout.njk' %}

{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

    {% if error %}
      {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: [
          {
            text: "This is not the email address the file was sent to."
          },
          {
            text: "To confirm the file was meant for you, enter the email address Defra payments sent the file to."
          }
        ]
        }) 
      }}
    {% endif %}

      <h1 class="govuk-heading-l">Confirm your email address</h1>

      <p class="govuk-body">For security, we need to confirm the email address the file was sent to before you can access it.</p>
      <form method="POST" action="/email-confirmation" novalidate>
        <input type="hidden" name="crumb" value="{{crumb}}"/>
        <input type="hidden" id="frn" name="frn" value="{{frn}}">
        {{ govukInput({
          label: {
            text: "Email address",
            classes: "govuk-body-s"
          },
          id: "emailAddress",
          name: "emailAddress",
          value: emailAddress
        })
      }}
    
      {{ govukButton({
          text: "Continue",
          attributes: {
            id: "submit"
          }
        }) 
      }}
      </form>

    </div>
  </div>

{% endblock %}